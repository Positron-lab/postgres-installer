# Postgres Installer

Приложение для установки и настройки PostgreSQL на наименее загруженном из двух удалённых серверов.

## Использование

```bash
python3 install_postgres.py 192.168.1.10,192.168.1.11
```

## Зависимости

Установить зависимости:

```bash
pip install -r requirements.txt
```

Также необходим установленный `ansible`.

## Описание

- Подключается к двум серверам по SSH (ключ уже подложен).
- Оценивает нагрузку через `uptime`.
- Выбирает наименее загруженный сервер.
- Устанавливает и настраивает PostgreSQL.
- Разрешает подключения к пользователю `student` только с IP второго сервера.
- Проверяет, отвечает ли PostgreSQL через `SELECT 1`.

## Принятые решения

- Используется `paramiko` для SSH.
- Установка через Ansible для надёжной кросс-дистрибутивной поддержки.
- Проверка БД с помощью `psycopg2`.

## Важно

- Репозиторий без лицензии — не предназначен для открытого использования.
